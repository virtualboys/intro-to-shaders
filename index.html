<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Three.js 101</title>
  <!--  Simple reset to delete the margins  -->
  <style>
    body { margin: 0; }
    canvas { width: 100%; height: 100% }
  </style>
  <!--  Three.js CDN  -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>
  <script src="https://cdn.skypack.dev/three@0.136/examples/js/loaders/GLTFLoader.js"></script> -->
</head>
<body>
  <!--  Our code  -->
  <script id="my_vertex_shader" type="x-shader/x-vertex">
    varying vec3 Normal;
    varying vec3 Position;
    
    void main() {
        Normal = normalize(normalMatrix * normal);
        Position = vec3(modelViewMatrix * vec4(position, 1.0));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
</script>
  <script id="my_fragment_shader" type="x-shader/x-fragment">
    varying vec3 Normal;
    varying vec3 Position;
    
    uniform vec3 Ka;
    uniform vec3 Kd;
    uniform vec3 Ks;
    uniform vec4 LightPosition;
    uniform vec3 LightIntensity;
    uniform float Shininess;
    
    vec3 phong() {
        vec3 n = normalize(Normal);
        vec3 s = normalize(vec3(LightPosition) - Position);
        vec3 v = normalize(vec3(-Position));
        vec3 r = reflect(-s, n);
    
        vec3 ambient = Ka;
        vec3 diffuse = Kd * max(dot(s, n), 0.0);
        vec3 specular = Ks * pow(max(dot(r, v), 0.0), Shininess);
    
        return LightIntensity * (ambient + diffuse + specular);
    }
    
    void main() {
        gl_FragColor = vec4(phong(), 1.0);
    }
  </script>
    
  <script src="app.js" type="module"></script>
</body>
</html>